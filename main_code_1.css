/* =========================================================
   SHIKIMORI THEME: "Kuroglass" (Base File 1)
   Modern dark glass + subtle Japanese vibe
   File role: tokens + background + typography + core UI
   ========================================================= */

/* -------------------------
   1) Fonts (JP vibe friendly)
   ------------------------- */
@import url("https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@400;500;700&family=Inter:wght@400;500;600;700&display=swap");

/* -------------------------
   2) Theme tokens
   Важно: тут только rgb-значения, чтобы было удобно с rgba()
   ------------------------- */
:root{
  /* Typography */
  --font-main: "Inter", "Zen Kaku Gothic New", system-ui, -apple-system, Segoe UI, Roboto, sans-serif !important;
  --font-alt: "Zen Kaku Gothic New", "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif !important;

  /* Base background */
  --bg-0: 7, 10, 18;      /* page base */
  --bg-1: 10, 14, 26;     /* deep surface */
  --bg-2: 14, 19, 36;     /* cards */

  /* Glass */
  --glass: 16, 22, 44;    /* glass tint */
  --glass-alpha: 0.52;    /* main glass opacity */
  --glass-strong: 0.68;

  /* Text */
  --t-0: 236, 242, 255;   /* headings */
  --t-1: 188, 204, 236;   /* body */
  --t-2: 140, 156, 192;   /* muted */

  /* Accents */
  --a-1: 120, 170, 255;   /* indigo-blue */
  --a-2: 180, 130, 255;   /* violet */
  --a-3: 88, 220, 255;    /* cyan */
  --a-hot: 255, 176, 92;  /* warm accent (sparingly) */

  /* Lines / shadows */
  --line: 255, 255, 255;
  --shadow: 0, 0, 0;

  /* Radius */
  --r-lg: 18px;
  --r-md: 14px;
  --r-sm: 12px;

  /* Motion */
  --ease: cubic-bezier(.2,.8,.2,1);
  --ease2: cubic-bezier(.16,1,.3,1);

  /* Wallpaper slot (user can replace) */
  --wallpaper: url("https://i.ibb.co/gmDv4W8/back.jpg");
  --wallpaper-dim: 0.55;
  --wallpaper-blur: 0px;

  /* Map old theme vars (compat with existing selectors in other files) */
  --white-color: var(--t-0);
  --light-color: var(--t-1);
  --dark-color: var(--t-2);
  --bright-color: var(--a-1);
  --hover-color: var(--a-3);
  --shadows-color: var(--a-1);

  --menu-back: var(--bg-1);
  --block-color: var(--glass);
  --popup-color: var(--glass);

  --buttoms-color: 22, 30, 62;
  --hover-buttoms-2: var(--a-hot);

  --input-color: 18, 26, 52;
  --nick-cover: 38, 64, 140;

  --hundred: 1;
}

/* -------------------------
   3) Page base + Aurora layers
   Тут мы заменяем старую подложку body:after (она есть в файле)  [oai_citation:5‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
html{
  height: 100%;
  min-height: 100%;
  overflow: visible;
  background: rgb(var(--bg-0));
}

body{
  font-family: var(--font-main) !important;
  height: auto;
  min-height: 100%;
  padding-bottom: 1px;
  overflow-x: hidden;
  overflow-y: auto;
  color: rgba(var(--t-1), 1);
  background: none !important;
}

/* Wallpaper + glass veil (keeps your original structure: body:after exists) */
body:after{
  content:"";
  width: 100vw;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: -3;

  background-image:
    radial-gradient(1200px 700px at 15% 10%, rgba(var(--a-2), .16), transparent 60%),
    radial-gradient(900px 600px at 85% 20%, rgba(var(--a-1), .14), transparent 55%),
    radial-gradient(900px 800px at 65% 90%, rgba(var(--a-3), .10), transparent 60%),
    linear-gradient(180deg, rgba(var(--bg-0), 1), rgba(var(--bg-0), .92)),
    var(--wallpaper);

  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;

  filter: blur(var(--wallpaper-blur));
  opacity: 1;
}

/* extra dim layer for readability */
body:before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  background: rgba(var(--bg-0), var(--wallpaper-dim));
}

/* Soft animation for aurora */
@keyframes kurogAura{
  0%{ transform: translate3d(0,0,0) scale(1); }
  50%{ transform: translate3d(-1.2%, 0.8%, 0) scale(1.02); }
  100%{ transform: translate3d(0,0,0) scale(1); }
}
body:after{
  animation: kurogAura 18s var(--ease) infinite;
}

/* Selection */
::selection{
  background: rgba(var(--a-1), .22);
  color: rgba(var(--t-0), 1);
}

/* -------------------------
   4) Scrollbar (clean, minimal)
   В оригинале есть стили скролла  [oai_citation:6‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
::-webkit-scrollbar{ width: 10px; background-color: transparent; }
::-webkit-scrollbar-track{ display: none; background: transparent; }
::-webkit-scrollbar-thumb{
  background-color: rgba(var(--line), .14);
  border-radius: 999px;
  transition: background-color .2s var(--ease);
}
::-webkit-scrollbar-thumb:hover{ background-color: rgba(var(--line), .22); }
::-webkit-scrollbar-thumb:active{ background-color: rgba(var(--line), .18); }

/* -------------------------
   5) Links + mentions
   В файле есть блок по .b-link / .b-mention  [oai_citation:7‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-link,
.b-mention,
.b-mention:before,
.b-mention s,
.b-mention span{
  color: rgba(var(--a-1), 1) !important;
  cursor: pointer;
  transition: color .18s var(--ease), filter .18s var(--ease), transform .18s var(--ease);
}

.b-link:hover,
.b-mention:hover,
.b-mention:hover:before,
.b-mention:hover span,
.b-mention:hover s{
  color: rgba(var(--a-3), 1) !important;
  text-decoration: none !important;
  filter: drop-shadow(0 10px 28px rgba(var(--a-3), .18));
}

.b-mention,
.b-mention s{
  bottom: 1px;
  position: relative;
}

/* -------------------------
   6) Headings (calm, modern)
   В оригинале правится header.head h1/h2  [oai_citation:8‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
header.head h1,
header.head h2{
  border-bottom: none;
  color: rgba(var(--t-0), 1) !important;
  font-family: var(--font-alt) !important;
  letter-spacing: .2px;
}

/* Profile name: remove heavy outline, replace with soft glow */
* .c-brief header.head h1{
  border-bottom: none;
  color: rgba(var(--t-0), 1) !important;
  font-family: var(--font-alt) !important;
  text-shadow:
    0 10px 30px rgba(var(--a-1), .18),
    0 2px 0 rgba(var(--bg-0), .55);
  font-size: 34px;
  line-height: 38px;
  pointer-events: none;
}

header.head .misc{
  max-width: 100%;
  width: 100%;
}

/* -------------------------
   7) Top menu base
   В оригинале .l-top_menu-v2 sticky и search gradients  [oai_citation:9‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.l-top_menu-v2{
  position: sticky;
  top: 0;
  background: rgba(var(--bg-1), .55);
  border-bottom: 1px solid rgba(var(--line), .10);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 14px 40px rgba(var(--shadow), .35);
  transition: background .25s var(--ease), box-shadow .25s var(--ease);
}

.l-top_menu-v2:hover{
  background: rgba(var(--bg-1), .62);
  box-shadow: 0 18px 55px rgba(var(--shadow), .42);
}

.l-top_menu-v2 .active .submenu{
  max-height: calc(100vh - 46px);
  overflow: auto;
}

/* Search results fade */
.l-top_menu-v2 .global-search .search-results::before{
  background: linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(var(--bg-1), .75) 100%);
}
.l-top_menu-v2 .global-search .search-results::after{
  background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(var(--bg-1), .75) 100%);
}

/* -------------------------
   8) Glass surfaces (core blocks)
   Это база, потом в файле 2 и 3 докрутим конкретные блоки.
   ------------------------- */
.l-page,
.block,
.popup-content,
.b-topic > .inner,
.b-comment > .inner,
.b-dialog > .inner,
.b-message > .inner{
  background: rgba(var(--glass), var(--glass-alpha)) !important;
  border: 1px solid rgba(var(--line), .10);
  border-radius: var(--r-lg) !important;
  box-shadow:
    0 18px 60px rgba(var(--shadow), .40),
    0 0 0 1px rgba(var(--a-1), .06) inset;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  transition: transform .22s var(--ease2), box-shadow .22s var(--ease2), border-color .22s var(--ease2);
}

.l-page:hover,
.block:hover,
.b-topic > .inner:hover,
.b-comment > .inner:hover,
.b-dialog > .inner:hover,
.b-message > .inner:hover{
  transform: translateY(-2px);
  border-color: rgba(var(--a-1), .18);
  box-shadow:
    0 26px 80px rgba(var(--shadow), .48),
    0 0 0 1px rgba(var(--a-3), .08) inset;
}

/* -------------------------
   9) Text blocks (descriptions, labels)
   В оригинале есть .b-prgrph и .b-input label  [oai_citation:10‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)  [oai_citation:11‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-prgrph,
.b-spoiler_prgrph{
  color: rgba(var(--t-1), 1);
}

.b-input label{
  color: rgba(var(--t-2), 1);
  display: block;
  line-height: 1.65;
}

/* -------------------------
   10) Buttons (modern pill, ink-press)
   В оригинале много про .b-link_button  [oai_citation:12‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-link_button{
  background:
    linear-gradient(135deg,
      rgba(var(--a-1), .18),
      rgba(var(--a-2), .12)) !important;
  color: rgba(var(--t-0), 1) !important;
  border: 1px solid rgba(var(--line), .10) !important;
  border-radius: 999px !important;
  box-shadow: 0 16px 40px rgba(var(--shadow), .35);
  transition: transform .18s var(--ease2), box-shadow .18s var(--ease2), filter .18s var(--ease2);
}

.b-link_button:hover{
  transform: translateY(-2px);
  filter: saturate(1.08);
  box-shadow: 0 22px 55px rgba(var(--shadow), .46), 0 0 0 1px rgba(var(--a-3), .16);
}

.b-link_button:active{
  transform: translateY(0) scale(.98);
  box-shadow: 0 10px 26px rgba(var(--shadow), .32);
}

/* Cancel buttons */
.b-form .cancel{
  background-color: rgba(var(--glass), .28);
  border: 1px solid rgba(var(--line), .10);
  border-radius: 999px;
  padding: 6px 12px;
  transition: background-color .18s var(--ease), transform .18s var(--ease);
}
.b-form .cancel:hover{
  background-color: rgba(var(--a-hot), .18);
  color: rgba(var(--t-0), 1) !important;
}
.buttons .cancel{
  margin-right: 10px !important;
  margin-left: 10px !important;
}

/* -------------------------
   11) Inputs
   ------------------------- */
input[type="text"],
input[type="email"],
input[type="number"],
textarea,
select{
  background: rgba(var(--input-color), .38) !important;
  border: 1px solid rgba(var(--line), .10) !important;
  border-radius: var(--r-md) !important;
  color: rgba(var(--t-0), 1) !important;
  transition: box-shadow .18s var(--ease), border-color .18s var(--ease), background .18s var(--ease);
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="number"]:focus,
textarea:focus,
select:focus{
  outline: none !important;
  border-color: rgba(var(--a-1), .30) !important;
  box-shadow: 0 0 0 4px rgba(var(--a-1), .12);
}

textarea{
  border: none !important;
}

/* -------------------------
   12) Status buttons (add_to_list)
   В оригинале там жёсткие цвета. Мы делаем спокойнее, но читабельно.  [oai_citation:13‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-add_to_list .trigger,
.b-add_to_list .option{
  border: 1px solid rgba(var(--line), .12) !important;
  box-shadow: 0 16px 40px rgba(var(--shadow), .35) !important;
  border-radius: 12px !important;
  transition: transform .16s var(--ease2), filter .16s var(--ease2);
}

.b-add_to_list .trigger:hover,
.b-add_to_list .option:hover{
  filter: brightness(1.05);
  transform: translateY(-1px);
}

/* watching */
.b-add_to_list.watching .trigger,
.b-add_to_list.watching .option{
  background: linear-gradient(135deg, rgba(var(--a-2), .22), rgba(var(--a-1), .12));
  color: rgba(var(--t-0), 1);
}
/* planned */
.b-add_to_list.planned .trigger,
.b-add_to_list.planned .option{
  background: linear-gradient(135deg, rgba(var(--line), .10), rgba(var(--a-1), .06));
  color: rgba(var(--t-0), 1);
}
/* completed */
.b-add_to_list.completed .trigger,
.b-add_to_list.completed .option{
  background: linear-gradient(135deg, rgba(80, 200, 140, .22), rgba(var(--glass), .18));
  color: rgba(var(--t-0), 1);
}
/* dropped */
.b-add_to_list.dropped .trigger,
.b-add_to_list.dropped .option{
  background: linear-gradient(135deg, rgba(255, 110, 90, .22), rgba(var(--glass), .18));
  color: rgba(var(--t-0), 1);
}
/* on_hold */
.b-add_to_list.on_hold .trigger,
.b-add_to_list.on_hold .option{
  background: linear-gradient(135deg, rgba(var(--a-hot), .22), rgba(var(--glass), .18));
  color: rgba(var(--t-0), 1);
}
/* rewatching */
.b-add_to_list.rewatching .trigger,
.b-add_to_list.rewatching .option{
  background: linear-gradient(135deg, rgba(80, 220, 210, .22), rgba(var(--glass), .18));
  color: rgba(var(--t-0), 1);
}

/* Expanded options */
.b-add_to_list .expanded-options{
  border-radius: 14px;
  background: rgba(var(--glass), var(--glass-strong)) !important;
  border: 1px solid rgba(var(--line), .12) !important;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

/* Remove trigger text */
.b-add_to_list .expanded-options .remove-trigger .text{
  color: rgba(255, 160, 158, 1);
}

/* -------------------------
   13) Small fixes
   ------------------------- */
.b-nothing_here{
  color: rgba(var(--t-2), 1);
}

/* Reduce motion option */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; animation: none !important; }
}
