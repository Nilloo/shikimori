/* =========================================================
   SHIKIMORI THEME: "Kuroglass" (File 2)
   Role: modules styling (profile, topics, tags, markers, filters)
   Depends on tokens from main_code_1.css
   ========================================================= */

/* -------------------------
   A) Small decorative helpers
   ------------------------- */
:root{
  --s-1: rgba(var(--line), .08);
  --s-2: rgba(var(--line), .12);
  --s-3: rgba(var(--line), .18);

  --glass-bg: rgba(var(--glass), var(--glass-alpha));
  --glass-bg-strong: rgba(var(--glass), var(--glass-strong));

  --glow-a1: 0 0 0 1px rgba(var(--a-1), .10), 0 18px 55px rgba(0,0,0,.42);
  --glow-a3: 0 0 0 1px rgba(var(--a-3), .12), 0 22px 70px rgba(0,0,0,.48);

  --ink: rgba(var(--bg-0), .55);
}

/* -------------------------
   B) Footer signature (optional)
   Replace later if you want a custom line
   ------------------------- */
.l-footer:before{
  content: "Kuroglass Theme";
  display: inline-block;
  padding: 6px 10px;
  border-radius: 999px;
  margin-right: 10px;
  background: rgba(var(--line), .06);
  border: 1px solid rgba(var(--line), .10);
  color: rgba(var(--t-2), 1);
}

/* -------------------------
   C) Club title / profile titles
   Original file touches .b-club .name-logo etc.  [oai_citation:2‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-club .name-logo .name{
  transition: transform .22s var(--ease2), color .22s var(--ease2), filter .22s var(--ease2);
  font-family: var(--font-alt) !important;
  letter-spacing: .2px;
}
.b-club .name-logo:hover .name{
  text-decoration: none;
  color: rgba(var(--t-0), 1) !important;
  filter: drop-shadow(0 12px 30px rgba(var(--a-1), .22));
  transform: translateY(-1px);
}

/* -------------------------
   D) Forum nav and section tabs
   Original: .p-statistics-index .forum-nav ...  [oai_citation:3‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.p-statistics-index .forum-nav .sections a{
  border-radius: 999px;
  padding: 6px 10px;
  margin-right: 6px;
  background: rgba(var(--line), .04);
  border: 1px solid rgba(var(--line), .08);
  color: rgba(var(--t-1), 1);
  transition: transform .18s var(--ease2), background .18s var(--ease2), border-color .18s var(--ease2), color .18s var(--ease2);
}
.p-statistics-index .forum-nav .sections a:hover{
  background: rgba(var(--a-1), .12);
  border-color: rgba(var(--a-1), .18);
  color: rgba(var(--t-0), 1);
  transform: translateY(-1px);
}
.p-statistics-index .forum-nav .sections a.selected{
  background: rgba(var(--a-3), .12);
  border-color: rgba(var(--a-3), .18);
  color: rgba(var(--t-0), 1);
}

/* -------------------------
   E) Contest module (soft cards, modern actions)
   Original: .b-contest_match ...  [oai_citation:4‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-contest_match .vs .invitation,
.b-contest_match .vs .vote-voted,
.b-contest_match .vs .vote-abstained,
.b-contest_match .vs .thanks,
.b-contest_match .vs .hint,
.b-contest_match .vs .action{
  background: var(--glass-bg);
  border: 1px solid rgba(var(--line), .10);
  border-radius: var(--r-md);
  box-shadow: 0 18px 50px rgba(0,0,0,.36);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

.b-contest_match .vs .label{
  color: rgba(var(--t-2), 1);
}

.b-contest_match .vs .actions .action span{
  border-radius: 999px;
  padding: 6px 10px;
  background: rgba(var(--line), .05);
  border: 1px solid rgba(var(--line), .08);
  transition: transform .16s var(--ease2), filter .16s var(--ease2), background .16s var(--ease2);
}
.b-contest_match .vs .actions .action span:hover{
  transform: translateY(-1px);
  background: rgba(var(--a-1), .12);
  filter: saturate(1.06);
}

.p-contests .match-day .match-link{
  border-radius: var(--r-md);
  background: rgba(var(--line), .04);
  border: 1px solid rgba(var(--line), .08);
  transition: transform .18s var(--ease2), background .18s var(--ease2), border-color .18s var(--ease2);
}
.p-contests .match-day .match-link:hover{
  transform: translateY(-1px);
  background: rgba(var(--a-2), .10);
  border-color: rgba(var(--a-2), .16);
}
.p-contests .match-day .match-link.active{
  background: rgba(var(--a-3), .10);
  border-color: rgba(var(--a-3), .16);
}

.b-contest_match .prev-match,
.b-contest_match .next-match{
  border-radius: 999px;
  background: rgba(var(--line), .05);
  border: 1px solid rgba(var(--line), .10);
  transition: transform .16s var(--ease2), background .16s var(--ease2), border-color .16s var(--ease2);
}
.b-contest_match .prev-match:hover,
.b-contest_match .next-match:hover{
  transform: translateY(-1px);
  background: rgba(var(--a-1), .10);
  border-color: rgba(var(--a-1), .16);
}

/* -------------------------
   F) Topics: avatar image hover, reload link
   Original styles exist for img hover  [oai_citation:5‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.p-topics header h1 a.reload{
  border-radius: 999px;
  padding: 6px 10px;
  background: rgba(var(--line), .05);
  border: 1px solid rgba(var(--line), .10);
  color: rgba(var(--t-1), 1);
  transition: transform .16s var(--ease2), background .16s var(--ease2), border-color .16s var(--ease2), color .16s var(--ease2);
}
.p-topics header h1 a.reload:hover{
  transform: translateY(-1px);
  background: rgba(var(--a-3), .10);
  border-color: rgba(var(--a-3), .16);
  color: rgba(var(--t-0), 1);
}

.b-topic > .inner header img{
  border-radius: 14px !important;
  box-shadow: 0 16px 40px rgba(0,0,0,.35);
  transition: transform .22s var(--ease2), box-shadow .22s var(--ease2), filter .22s var(--ease2);
}
.b-topic > .inner header img:hover{
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 26px 70px rgba(0,0,0,.48);
  filter: saturate(1.06) contrast(1.05);
}

/* -------------------------
   G) Filters: current option highlight
   Original: .b-header_filters ...  [oai_citation:6‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.p-recommendations-index .b-header_filters .hint,
.b-header_filters .filter-line .title{
  color: rgba(var(--t-2), 1);
}

.b-collection_search .field input::-webkit-input-placeholder{
  color: rgba(var(--t-2), .8) !important;
}

.b-header_filters .filter-line a.current{
  border-radius: 999px;
  padding: 5px 10px;
  background: rgba(var(--a-1), .12);
  border: 1px solid rgba(var(--a-1), .18);
  color: rgba(var(--t-0), 1) !important;
  box-shadow: 0 12px 30px rgba(0,0,0,.25);
}

/* -------------------------
   H) Entry info links (anime/manga pages)
   Original: .b-entry-info .line a  [oai_citation:7‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-entry-info .line a{
  color: rgba(var(--t-1), 1);
  border-bottom: 1px solid rgba(var(--line), .10);
  transition: color .18s var(--ease), border-color .18s var(--ease), filter .18s var(--ease);
}
.b-entry-info .line a:hover{
  color: rgba(var(--a-3), 1);
  border-color: rgba(var(--a-3), .22);
  filter: drop-shadow(0 12px 30px rgba(var(--a-3), .18));
}

/* -------------------------
   I) Profile page: history titles
   Original: .p-profiles .profile-head .c-history ...  [oai_citation:8‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.p-profiles .profile-head .c-history .entry .title{
  color: rgba(var(--t-1), 1);
  transition: color .18s var(--ease), transform .18s var(--ease2);
}
.p-profiles .profile-head .c-history .entry .title:hover{
  color: rgba(var(--a-1), 1);
  transform: translateX(2px);
}

/* Alias hint in profile header (keep subtle, no heavy ornament) */
.p-profiles .profile-head .c-brief header h1.aliases:after{
  opacity: .65;
  color: rgba(var(--t-2), 1);
}

/* -------------------------
   J) Expand / spoilers (modern "read more" chip)
   Original: .b-height_shortener, .b-log_entry spoilers  [oai_citation:9‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-height_shortener .expand span,
.b-log_entry .spoiler.collapse span,
.b-log_entry .spoiler.collapsed span,
.b-comment .b-height_shortener .expand span{
  display: inline-block;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(var(--line), .05);
  border: 1px solid rgba(var(--line), .10);
  color: rgba(var(--t-1), 1);
  transition: transform .16s var(--ease2), background .16s var(--ease2), border-color .16s var(--ease2), color .16s var(--ease2);
}

.b-height_shortener .expand:hover span,
.b-log_entry .spoiler.collapse:hover span,
.b-log_entry .spoiler.collapsed:hover span,
.b-log_entry .spoiler.collapse span:hover,
.b-log_entry .spoiler.collapsed span:hover{
  transform: translateY(-1px);
  background: rgba(var(--a-3), .10);
  border-color: rgba(var(--a-3), .16);
  color: rgba(var(--t-0), 1);
}

/* -------------------------
   K) DB entry notes (tiny separators)
   Original: .b-db_entry-note .name-container ...  [oai_citation:10‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-db_entry-note .name-container{
  border-radius: var(--r-md);
}
.b-db_entry-note .name-container .note .relation + .additional:before,
.b-db_entry-note .name-container .note .relation + .additional:after{
  background: rgba(var(--line), .14);
}

/* -------------------------
   L) Markers & status tags
   Original file has a large block for *_marker and *_status_tag  [oai_citation:11‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   We keep it clean: pills + subtle kanji as vibe.
   ------------------------- */
body * [class*="_status_tag"],
body * [class*="_marker"]{
  border-radius: 999px !important;
  border: 1px solid rgba(var(--line), .10) !important;
  background: rgba(var(--line), .05) !important;
  color: rgba(var(--t-1), 1) !important;
  box-shadow: 0 10px 26px rgba(0,0,0,.25);
}

.b-anime_status_tag{
  background: linear-gradient(135deg, rgba(var(--a-1), .14), rgba(var(--a-2), .10)) !important;
  border-color: rgba(var(--a-1), .16) !important;
  color: rgba(var(--t-0), 1) !important;
}

body[data-locale=ru] .b-summary_marker:before{
  content: "要"; /* "essence" vibe */
}
body[data-locale=ru] .b-summary_marker.active:before{
  content: "纏"; /* "gather" vibe */
}
body[data-locale=ru] .b-summary_marker.off:before{
  content: "無"; /* "none" vibe */
}

/* For markers without data-text: keep icon minimal */
body * [class*="_status_tag"]:not([data-text]):before,
body * [class*="_marker"]:not([data-text]):before{
  opacity: .85;
  margin-right: 6px;
}

/* -------------------------
   M) Options floated counter (tiny badge)
   Original: .b-options-floated.count  [oai_citation:12‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.b-options-floated.count{
  border-radius: 999px !important;
  background: rgba(var(--a-3), .12) !important;
  border: 1px solid rgba(var(--a-3), .18) !important;
  color: rgba(var(--t-0), 1) !important;
  box-shadow: 0 18px 45px rgba(0,0,0,.35);
}

/* -------------------------
   N) Graph blocks (make them cleaner)
   Original mentions .graph.x26/x34  [oai_citation:13‡main_code_1.css](sediment://file_00000000279071f4aaa2ef533a0792b3)
   ------------------------- */
.p-profiles-show .profile-content .graph,
.p-profiles-show.x1000 .profile-content .graph{
  border-radius: var(--r-lg);
  background: rgba(var(--line), .03);
  border: 1px solid rgba(var(--line), .08);
}

/* -------------------------
   O) Safety: reduce motion
   ------------------------- */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; animation: none !important; }
}
